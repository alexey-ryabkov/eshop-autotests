# Итоговая работа по курсу "Модульное тестирование веб-приложений" в ITHub

В рамках итоговой работы протестирован с использованием pytest-playwright интернет-магазин Opencart в докер-образе. В сумме написано 10 тестов для функционала общего макета интернет-магазина, его главной страницы, страницы товара и корзины.

## Подготовка и запуск тестов

Для развертывания проекта в системе должены быть установлены Python 3 и Docker 

### Развертывание проекта

Выполнить последовательно
```bash
# установка менеджера зависимостей Poetry (если не установлен)
curl -sSL https://install.python-poetry.org | python3 -
# установка необходимых пакетов проекта
poetry install --no-root
```

Далее необходимо создать файл .env с параметрами для докер-образа, см. [.env.sample](/.env.sample)

### Запуск тестов

При запуске тестов докер-образ стартует автоматически (но докер-приложение должено быть запущено).
```bash
poetry run pytest
# если нужно предотвратить завершение работы докера-образа по окончании тестов
poetry run pytest --keep-docker
```

## Отчет Allure

Отчет локального запуска тестов доступен по [этой ссылке](https://alexey-ryabkov.github.io/eshop-autotests/).

Команды для формирования отчета по тестам (в системе должен быть установлен Allure):
```bash
poetry run pytest --alluredir=allure_results
# затем, для генерации отчета в папке docs
allure generate allure_results -o docs --clean 
# для просмотра на локальном веб-сервере выполнить 
poetry run python -m http.server --directory docs 8080 
```
